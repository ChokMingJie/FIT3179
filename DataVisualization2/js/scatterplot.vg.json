{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/ChokMingJie/FIT3179/main/DataVisualization2/data/Global_YouTube_Statistics.csv"
    },
    "title": {
      "text": "Scatter Plot of Video Views vs. Mean Yearly Earnings",
      "fontSize": 20,
      "font": "Helvetica"
    },
    "width": 800,
    "height": 400,
    "mark": "circle",
    "transform": [
      {
        "filter": "datum.Youtuber != 'Sports' && datum.Youtuber != 'YouTube Movies' && datum.mean_yearly_earnings != 0"
      },
      {
        "filter": {"field": "subscribers", "valid": true}
      },
      {"window": [{"op": "rank", "as": "rank"}]},
      {"filter": {"field": "rank", "lte": 50}}
    ],
    "encoding": {
      "x": {
        "field": "video views",
        "type": "quantitative",
        "title": "Video Views",
        "scale": {"type": "log"},
        "axis": {"format": "~s", "grid": false, "labelFlush": true, "labelOverlap": true, "ticks": false}
      },
      "y": {
        "field": "mean_yearly_earnings",
        "type": "quantitative",
        "title": "Yearly Earnings",
        "scale": {"type": "log"},
        "axis": {"format": "~s", "grid": false, "labelFlush": true, "labelOverlap": true, "ticks": false}
      },
      "size": {
        "field": "subscribers",
        "type": "quantitative",
        "title": "Subscribers",
        "scale": {
          "type": "threshold",
          "domain": [50000000, 100000000, 200000000],
          "range": [150, 300, 550, 1500]
        },
        "legend": {"format": ".1s"}
      },
      "color": {
        "field": "Youtuber",
        "type": "nominal",
        "legend": null
      },
      "tooltip": [
        {"field": "video views", "title": "Video Views", "format": ","},
        {"field": "mean_yearly_earnings", "title": "Yearly Earnings", "format": ","},
        {"field": "Youtuber", "title": "YouTuber"},
        {"field": "subscribers", "title": "Subscribers", "format": ","}
      ]
    },
    "config": {
      "view": {
        "stroke": "transparent"
      }
    }
  }
  